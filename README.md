# Using ChatGPT to play Video games

## Abstract
Recent advancements in Natural Language Processing have led to the advent of Large Language Models (LLMs) being implemented in systems we interact with daily. While these models excel in providing useful information, studies have shown that responses generated by them contain a certain level of inaccuracies. This makes us question the reasoning capabilities of these language models and to what extent the information presented by them is accurate. In this project, I incorporate a state-of-the-art model, GPT-4V, into two video game environments, MiniRTS and Minecraft. The project's main objective is to assess GPT-4V’s ability to generate logical, accurate and contextualised responses. GPT-4V is asked to play MiniRTS by generating natural language instructions while prompted to provide assistive suggestions to players’ queries in Minecraft. I conducted a qualitative analysis in both games and additionally carried out a user study in Minecraft to evaluate game performance and the generated responses. The experimental results indicate that GPT-4V struggles to generate logical and strategic responses in long gameplay. Furthermore, the responses are generally accurate but are subject to imprecision and inconsistency, particularly in lengthy answers. GPT-4V also shows significant effort in considering prompts but fails to show a deep understanding of them. Lastly, compared to existing studies, GPT-4V performs relatively weakly in generating responses in real-time. The study ends by highlighting the strengths and weaknesses of GPT-4V. It is hoped that further studies will address these limitations and advance the capabilities of LLMs.

## Overview
<ul>
  <li>Design</li>
  <li>Implementation</li>
  <li>Experiment Setup</li>
  <li>Results</li>
  <li>Evaluation</li>
</ul>

## Design
For this study, GPT-4V has been chosen to be incorporated into MiniRTS and Minecraft for experiments.

MiniRTS is a simplified version of the Real-Time Strategy game genre, in which players are required to analyse the current game environment through images and inform the game about the next step with textual instructions. In this study, I have adopted the MiniRTS environment proposed by H. Hu et al. [[1]] The goal of MiniRTS is to defeat the enemies in red and destroy red's base. MiniRTS provides a simple but stochastic environment, and incorporates both visual and textual information, allowing me to put GPT-4V's reasoning capabilities to the test. 

Minecraft is a sandbox game, offering a vast and dynamic environment with high diversity and customisability for evaluation. Minecraft utilises visual cues in a 3D environment, players will have to identify each block and entity to progress in tasks. Moreover, it also utilises textual information such as coordinates and biome. Through experiments, it enables me to measure to what extent GPT-4V generates accurate and succient inforamtion.      

## Implementation
There are 2 types of prompts in MiniRTS: Visual and Textual. When a MiniRTS games starts, it randomly populates the environment with resources and the location of the oppponent's base. An image representing the current game state is captured and is combined with texts illustrating the objective, game specifications and 10 example commands. These components are merged into a payload and are sent to GPT-4V as a query. The response acts as a command that is passed into a command-enforcing algorithm proposed by [[2]], which is later fed back into the execitor to update the game state. The purpose of including example commands is the use of In-Context Learning, which gives the model so insights that helps the model to return responses more accurately, or in my case, in the desired format.

There are also 2 types of prompts in Minecraft. The model is asked a question regarding the game and is asked to return suggestions or advice to assist the player. Upon querying, the player's perspective is captured as an image while the question and the player's inventory is captured as texts. These prompts made up the prompt and is sent to GPT-4V for the requested type of response. 

The communication between the games and GPT-4V are made possible with the GPT-4 API. Specifically for Minecraft, as there is no API support for Java, a Minecraft mod with TCP sockets between the Java client (Minecraft) and the Python server is used. 


[1]:https://arxiv.org/abs/1906.00744
[2]:https://proceedings.neurips.cc/paper_files/paper/2022/file/318f3ae8be3c97cb7555e1c932f472a1-Paper-Conference.pdf
